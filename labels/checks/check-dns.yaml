---
type: CheckConfig
api_version: core/v2
metadata:
  name: check-dns
  labels:
    jenkins_managed: "yes"
spec:
  command: >-
    check-dns.rb
    --domain {{ .annotations.check_dns_domain | default "sensu.io" }}
  runtime_assets:
    - sensu-plugins/sensu-plugins-dns:3.0.0
    - sensu/sensu-ruby-runtime:0.0.10
  publish: false
  subscriptions:
    - dns
  interval: 30
  timeout: 10
  ttl: 0
  proxy_entity_name: ""
  stdin: false
  handlers:
    - alert
